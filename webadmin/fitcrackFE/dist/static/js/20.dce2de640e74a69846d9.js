webpackJsonp([20],{463:function(t,e,a){"use strict";function n(t){a(640)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(572),i=a(642),r=a(34),o=n,c=r(s.a,i.a,!1,o,"data-v-640973f8",null);e.default=c.exports},513:function(t,e,a){"use strict";function n(t){var e={stateKey:"instances",instanceKey:"id"};return"function"==typeof t[0]?{callback:t[0],config:e}:{callback:t[1],config:Object.assign({},e,t[0])}}function s(t,e,a){return Array.isArray(e[t.stateKey])?"object"===(void 0===a?"undefined":b(a))&&void 0!==a[t.instanceKey]||(console.error('Mutation payloads must be an object with an "'+t.instanceKey+'" property.'),!1):(console.error('State does not contain an "'+t.stateKey+'" array.'),!1)}function i(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function r(t,e){var a=h(e,2),n=a[0],s=a[1];return t[n]=s,t}function o(t){return i(t).map(g).reduce(r,{})}function c(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return(Array.isArray(e)?e:e.split(a)).reduce(function(t,e){return t&&t[e]},t)}function l(t){for(var e=arguments.length,a=Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];throw new(Function.prototype.bind.apply(Error,[null].concat(["[spyfu-vuex-helpers]: "+t],a)))}function u(){var t=d(arguments),e=t.namespace,a=t.mappings,n=v(a),s={};return Object.keys(n).forEach(function(t){s[t]={get:f(e,n[t]),set:p(e,n[t])}}),s}function d(t){var e=t[0],a=t[1];return"string"==typeof e?{namespace:e,mappings:a}:{namespace:null,mappings:e}}function v(t){var e={};return Array.isArray(t)&&l("Invalid arguments for mapTwoWayState. State mapping must be an object in { 'path.to.state': 'mutationName' } format."),Object.keys(t).forEach(function(a){var n=t[a],s=a.slice(a.lastIndexOf(".")+1);e[s]="string"==typeof n?{key:a,mutation:n}:{key:n.key,mutation:n.mutation}}),e}function f(t,e){return t?function(){return c(c(this.$store.state,t,"/"),e.key,".")}:function(){return c(this.$store.state,e.key,".")}}function p(t,e){var a=e.mutation;return t&&(a=t+"/"+a),function(t){this.$store.commit(a,t)}}a.d(e,"a",function(){return u});var m=a(189),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=(Object.assign,function(){function t(t,e){var a=[],n=!0,s=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done)&&(a.push(r.value),!e||a.length!==e);n=!0);}catch(t){s=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(s)throw i}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),A=function(){var t=n(arguments),e=t.config,a=t.callback;return function(t,n){if(s(e,t,n)){var i=t[e.stateKey].find(function(t){return t[e.instanceKey]===n[e.instanceKey]});i&&a(i,n,t)}}};A.config=function(t){return A.bind(null,t)};var g=function(t){var e=h(t,2),a=e[0],n=e[1];return[a,function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw"The getter "+a+" does not return a function. Try using the 'mapGetter' helper instead";return t(this.id)}]};m.b},518:function(t,e,a){"use strict";function n(t){return{ready:"mdi-play-circle-outline",running:"mdi-dots-vertical-circle-outline",finished:"mdi-checkbox-marked-circle-outline",exhausted:"mdi-close-circle-outline",malformed:"mdi-alert-circle-outline",finishing:"mdi-progress-clock"}[t]||"mdi-help-circle-outline"}function s(t){switch(t){case"dictionary":return"mdi-dictionary";case"combinator":return"mdi-vector-combine";case"maskattack":case"mask":return"mdi-nuke";case"hybridWordlistMask":case"hybrid (Wordlist + Mask)":return"mdi-vector-difference-ba";case"hybridMaskWordlist":case"hybrid (Mask + Wordlist)":return"mdi-vector-difference-ab";case"pcfgAttack":case"pcfg":return"mdi-ray-start-end";case"princeAttack":case"prince":return"mdi-crown";default:return"mdi-checkbox-blank-outline"}}e.b=n,e.a=s},572:function(t,e,a){"use strict";var n=a(41),s=a.n(n),i=a(518),r=a(513),o=a(14);e.a={name:"JobsView",data:function(){return{interval:null,status:null,attackType:null,search:"",viewHidden:!1,totalItems:0,pagination:{},loading:!0,headers:[{text:"Name",align:"start",value:"name"},{text:"Attack type",value:"attack",align:"end",sortable:!1},{text:"Status",value:"status",align:"end"},{text:"Progress",value:"progress",align:"end"},{text:"Added",value:"time",align:"end"},{text:"Actions",value:"actions",sortable:!1,align:"end"}],jobs_statuses:[{text:"ready",code:0},{text:"finished",code:1},{text:"exhausted",code:2},{text:"malformed",code:3},{text:"timeout",code:4},{text:"running",code:10},{text:"finishing",code:12}],jobs_types:[{text:"dictionary",code:0},{text:"mask",code:1},{text:"combinator",code:2},{text:"pcfg",code:3}],jobs:[]}},computed:s()({},Object(r.a)("binInterface",Object(o.c)(["selectedJobs"])),{isTrash:function(){return"trash"===this.$route.params.id},isBin:function(){return"bins"===this.$route.name&&!this.isTrash},binName:function(){var t=this,e=this.$store.state.binInterface.bins.find(function(e){return e.id==parseInt(t.$route.params.id)});return e?e.name:void 0},binTitle:function(){return this.binName?"Jobs in "+this.binName:this.isTrash?"Discarded Jobs":"All Jobs"}}),watch:{pagination:{handler:"updateList",deep:!0},$route:"updateList"},mounted:function(){this.interval=setInterval(function(){this.loadJobs()}.bind(this),15e3)},beforeDestroy:function(){clearInterval(this.interval),this.selectedJobs=[]},methods:{loadJobs:function(){var t=this;this.axios.get(this.$serverAddr+"/job",{params:{page:this.pagination.page,per_page:this.pagination.itemsPerPage,order_by:this.pagination.sortBy[0],descending:this.pagination.sortDesc[0],name:this.search,status:this.status,attack_mode:this.attackType,showDeleted:this.isTrash}}).then(function(e){t.jobs=e.data.items,t.totalItems=e.data.total,t.loading=!1})},updateList:function(){this.selectedJobs=[],this.loading=!0,this.loadJobs()},updateStatus:function(t){this.status=t,this.$refs.table.updatePagination({page:1,totalItems:this.totalItems})},progressToPercentage:function(t){return t>100&&(t=100),t.toFixed()+"%"},operateJob:function(t,e){var a=this;this.axios.get(this.$serverAddr+"/job/"+t+"/action",{params:{operation:e}}).then(function(t){console.log(t.data),a.loadJobs()})},hideJob:function(t){var e=this;this.loading=!0,this.axios.delete(this.$serverAddr+"/job/"+t).then(function(t){e.loadJobs()})},jobIcon:i.b,attackIcon:i.a}}},640:function(t,e,a){var n=a(641);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(461)("37c8da0c",n,!0,{})},641:function(t,e,a){e=t.exports=a(460)(!0),e.push([t.i,".back-margin[data-v-640973f8]{margin:0 -.3em}.toolbar-cont[data-v-640973f8]{position:relative;height:4.15em}.toolbar-module[data-v-640973f8]{position:absolute;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;width:100%}@media screen and (max-width:60em){.toolbar-cont[data-v-640973f8]{height:auto}.toolbar-module[data-v-640973f8]{position:static}}.search-field[data-v-640973f8]{min-width:15em}.cont[data-v-640973f8]{height:100%}.actionsBtns[data-v-640973f8]{text-align:right}.table-link[data-v-640973f8]{font-weight:700}.swap-pad[data-v-640973f8]{padding:1.05em}.swap-enter-active[data-v-640973f8],.swap-leave-active[data-v-640973f8]{-webkit-transition:-webkit-transform .2s cubic-bezier(.785,.135,.15,.86);transition:-webkit-transform .2s cubic-bezier(.785,.135,.15,.86);transition:transform .2s cubic-bezier(.785,.135,.15,.86);transition:transform .2s cubic-bezier(.785,.135,.15,.86),-webkit-transform .2s cubic-bezier(.785,.135,.15,.86)}.swap-leave-to[data-v-640973f8]{-webkit-transform:translateY(-100%);transform:translateY(-100%)}.swap-enter[data-v-640973f8]{-webkit-transform:translateY(100%);transform:translateY(100%)}","",{version:3,sources:["/home/runner/work/fitcrack/fitcrack/webadmin/fitcrackFE/src/components/job/jobsView.vue"],names:[],mappings:"AACA,8BACE,cAAgB,CACjB,AACD,+BACE,kBAAmB,AACnB,aAAc,CACf,AACD,iCACE,kBAAmB,AACnB,2BAA4B,AACxB,uBAAwB,AAC5B,UAAW,CACZ,AACD,mCACA,+BACI,WAAa,CAChB,AACD,iCACI,eAAiB,CACpB,CACA,AACD,+BACE,cAAgB,CACjB,AACD,uBACE,WAAa,CACd,AACD,8BACE,gBAAkB,CACnB,AACD,6BACE,eAAkB,CACnB,AACD,2BACE,cAAgB,CACjB,AACD,wEACE,yEAAiF,AACjF,iEAAyE,AACzE,yDAAiE,AACjE,8GAA+H,CAChI,AACD,gCACE,oCAAqC,AAC7B,2BAA4B,CACrC,AACD,6BACE,mCAAoC,AAC5B,0BAA2B,CACpC",file:"jobsView.vue",sourcesContent:["\n.back-margin[data-v-640973f8] {\n  margin: 0 -.3em;\n}\n.toolbar-cont[data-v-640973f8] {\n  position: relative;\n  height:4.15em;\n}\n.toolbar-module[data-v-640973f8] {\n  position: absolute;\n  -ms-flex-wrap: wrap-reverse;\n      flex-wrap: wrap-reverse;\n  width:100%;\n}\n@media screen and (max-width: 60em) {\n.toolbar-cont[data-v-640973f8] {\n    height: auto;\n}\n.toolbar-module[data-v-640973f8] {\n    position: static;\n}\n}\n.search-field[data-v-640973f8] {\n  min-width: 15em;\n}\n.cont[data-v-640973f8] {\n  height: 100%;\n}\n.actionsBtns[data-v-640973f8]{\n  text-align: right;\n}\n.table-link[data-v-640973f8] {\n  font-weight: bold;\n}\n.swap-pad[data-v-640973f8] {\n  padding: 1.05em;\n}\n.swap-enter-active[data-v-640973f8], .swap-leave-active[data-v-640973f8] {\n  -webkit-transition: -webkit-transform .2s cubic-bezier(0.785, 0.135, 0.15, 0.86);\n  transition: -webkit-transform .2s cubic-bezier(0.785, 0.135, 0.15, 0.86);\n  transition: transform .2s cubic-bezier(0.785, 0.135, 0.15, 0.86);\n  transition: transform .2s cubic-bezier(0.785, 0.135, 0.15, 0.86), -webkit-transform .2s cubic-bezier(0.785, 0.135, 0.15, 0.86);\n}\n.swap-leave-to[data-v-640973f8] {\n  -webkit-transform: translateY(-100%);\n          transform: translateY(-100%)\n}\n.swap-enter[data-v-640973f8] {\n  -webkit-transform: translateY(100%);\n          transform: translateY(100%)\n}\n\n"],sourceRoot:""}])},642:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{flat:""}},[a("v-chip",[a("v-fade-transition",{attrs:{mode:"out-in"}},[t.loading?a("v-progress-circular",{staticClass:"back-margin",attrs:{size:"16",width:"2",indeterminate:""}}):a("span",[t._v("\n          "+t._s(t.totalItems)+"\n        ")])],1)],1),t._v(" "),a("h2",{staticClass:"ml-4"},[t._v("\n      "+t._s(t.binTitle)+"\n      "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.lgAndUp,expression:"$vuetify.breakpoint.lgAndUp"}],staticClass:"text--secondary"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.status||t.attackType,expression:"status || attackType"}]},[t._v("that")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}]},[t._v("are "+t._s(t.status))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.status&&t.attackType,expression:"status && attackType"}]},[t._v("and")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.attackType,expression:"attackType"}]},[t._v("use "+t._s(t.attackType)+" attack")])])]),t._v(" "),a("v-spacer"),t._v(" "),t.isBin?a("div",[a("v-btn",{attrs:{text:""}},[a("v-icon",{attrs:{left:""}},[t._v("\n          mdi-pencil\n        ")]),t._v("\n        Rename Bin\n      ")],1),t._v(" "),a("v-btn",{attrs:{text:""}},[a("v-icon",{attrs:{left:""}},[t._v("\n          mdi-delete\n        ")]),t._v("\n        Delete Bin\n      ")],1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"overflow-hidden toolbar-cont"},[a("transition",{attrs:{name:"swap"}},[0==t.selectedJobs.length?a("div",{key:"filtersToolbar",staticClass:"toolbar-module d-flex justify-space-between align-center px-2"},[a("v-text-field",{staticClass:"mx-2 search-field",attrs:{clearable:"","prepend-icon":"mdi-table-search",label:"Search","single-line":""},on:{input:t.updateList},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("v-select",{staticClass:"mx-2",attrs:{items:t.jobs_statuses,label:"Status","single-line":"","item-text":"text","item-value":"text","prepend-icon":"mdi-timelapse",clearable:""},on:{change:t.updateList},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}}),t._v(" "),a("v-select",{staticClass:"mx-2",attrs:{items:t.jobs_types,label:"Attack type","single-line":"","item-text":"text","item-value":"text","prepend-icon":"mdi-crosshairs-gps",clearable:""},on:{change:t.updateList},model:{value:t.attackType,callback:function(e){t.attackType=e},expression:"attackType"}})],1):a("div",{key:"selectionToolbar",staticClass:"toolbar-module d-flex align-center swap-pad"},[a("v-btn",{staticClass:"mr-2",attrs:{text:"",color:"success"}},[a("v-icon",{attrs:{left:""}},[t._v("\n            mdi-play\n          ")]),t._v("\n          Start\n        ")],1),t._v(" "),a("v-btn",{staticClass:"mr-2",attrs:{text:"",color:"info"}},[a("v-icon",{attrs:{left:""}},[t._v("\n            mdi-restart\n          ")]),t._v("\n          Restart\n        ")],1),t._v(" "),a("v-btn",{staticClass:"mr-2",attrs:{text:"",color:"error"}},[a("v-icon",{attrs:{left:""}},[t._v("\n            mdi-stop\n          ")]),t._v("\n          Stop\n        ")],1),t._v(" "),a("v-btn",{staticClass:"mr-2",attrs:{text:""}},[a("v-icon",{attrs:{left:""}},[t._v("\n            "+t._s(t.isTrash?"mdi-delete-restore":"mdi-delete")+"\n          ")]),t._v("\n          "+t._s(t.isTrash?"Restore":"Discard")+"\n        ")],1)],1)])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-skeleton-loader",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mx-auto",attrs:{type:"table-thead, table-tbody, table-tfoot"}}),t._v(" "),a("v-data-table",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"table",attrs:{headers:t.headers,items:t.jobs,search:t.search,options:t.pagination,"server-items-length":t.totalItems,"footer-props":{itemsPerPageOptions:[25,10,50,100],itemsPerPageText:"Jobs per page"},"show-select":"","fixed-header":""},on:{"update:options":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[a("router-link",{staticClass:"table-link",attrs:{to:{name:"jobDetail",params:{id:n.id}}}},[t._v("\n        "+t._s(n.name)+"\n      ")])]}},{key:"item.attack",fn:function(e){var n=e.item;return[a("span",{staticClass:"text-capitalize"},[t._v("\n        "+t._s(n.attack)+"\n        "),a("v-icon",{attrs:{right:""}},[t._v("\n          "+t._s(t.attackIcon(n.attack))+"\n        ")])],1)]}},{key:"item.status",fn:function(e){var n=e.item;return[n.host_count>0?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("span",t._g({class:[n.status_type+"--text","text-capitalize"]},s),[t._v("\n            "+t._s(n.status_text)+"\n            "),a("v-icon",{attrs:{right:"",color:n.status_type}},[t._v("\n              "+t._s(t.jobIcon(n.status_text))+"\n            ")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v(t._s(n.status_tooltip))])]):a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("span",t._g({staticClass:"text-capitalize"},n),[t._v("\n            no hosts\n            "),a("v-icon",{attrs:{right:""}},[t._v("\n              mdi-alert\n            ")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v("No hosts, open job detail and assign them!")])])]}},{key:"item.progress",fn:function(e){var n=e.item;return[a("div",{staticClass:"d-flex align-center justify-end"},[a("span",{staticClass:"mr-2"},[t._v(t._s(t.progressToPercentage(n.progress)))]),t._v(" "),a("v-progress-circular",{staticClass:"jobProgress",attrs:{size:"18",width:3,rotate:270,color:"primary",value:n.progress}})],1)]}},{key:"item.time",fn:function(e){var a=e.item;return[t._v("\n      "+t._s(t.$moment(a.time).format("D.M.YYYY H:mm:ss"))+"\n    ")]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("div",{staticClass:"actionsBtns"},["0"===n.status?a("v-btn",{attrs:{disabled:0==n.host_count,text:"",color:"success"},on:{click:function(e){return t.operateJob(n.id,"start")}}},[t._v("\n          Start\n          "),a("v-icon",{attrs:{right:""}},[t._v("\n            mdi-play\n          ")])],1):n.status<10?a("v-btn",{attrs:{text:"",color:"info"},on:{click:function(e){return t.operateJob(n.id,"restart")}}},[t._v("\n          Restart\n          "),a("v-icon",{attrs:{right:""}},[t._v("\n            mdi-restart\n          ")])],1):a("v-btn",{attrs:{text:"",color:"error"},on:{click:function(e){return t.operateJob(n.id,"stop")}}},[t._v("\n          Stop\n          "),a("v-icon",{attrs:{right:""}},[t._v("\n            mdi-stop\n          ")])],1),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mx-0",attrs:{icon:""},on:{click:function(e){return t.hideJob(n.id)}}},s),[a("v-icon",[t._v("\n                "+t._s(t.isTrash?"mdi-delete-restore":"mdi-delete")+"\n              ")])],1)]}}],null,!0)},[t._v(" "),a("span",[t._v(t._s(t.isTrash?"Restore":"Discard"))])])],1)]}}]),model:{value:t.selectedJobs,callback:function(e){t.selectedJobs=e},expression:"selectedJobs"}})],1)},s=[],i={render:n,staticRenderFns:s};e.a=i}});
//# sourceMappingURL=20.dce2de640e74a69846d9.js.map