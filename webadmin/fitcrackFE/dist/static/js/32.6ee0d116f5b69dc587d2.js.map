{"version":3,"sources":["webpack:///static/js/32.6ee0d116f5b69dc587d2.js","webpack:///./src/components/batch/batchList.vue","webpack:///src/components/batch/batchList.vue","webpack:///./src/components/batch/batchList.vue?55bc"],"names":["webpackJsonp","466","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_batchList_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_61ae6248_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_batchList_vue__","normalizeComponent","Component","618","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","data","interval","search","totalItems","pagination","loading","batches","headers","text","align","mounted","_this","this","load","setInterval","beforeDestroy","clearInterval","methods","_this2","a","mark","_callee","wrap","_context","prev","next","axios","get","$serverAddr","params","page","per_page","itemsPerPage","then","r","sent","items","total","stop","runBatch","id","_this3","_callee2","_context2","post","t0","console","error","interruptBatch","_this4","_callee3","_context3","deleteBatchConfirm","_this5","$root","$confirm","_ref","_callee4","confirm","_context4","delete","_x","apply","arguments","748","render","_vm","_h","$createElement","_c","_self","ref","attrs","options","server-items-length","footer-props","itemsPerPageOptions","itemsPerPageText","fixed-header","disable-sort","on","update:options","$event","scopedSlots","_u","key","fn","item","staticClass","to","_v","_s","name","top","_g","class","status","right","color","icon","description","total_jobs","size","width","rotate","waiting_jobs","code","disabled","click","_e","staticRenderFns","esExports"],"mappings":"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","file":"static/js/32.6ee0d116f5b69dc587d2.js","sourcesContent":["webpackJsonp([32],{\n\n/***/ 466:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_batchList_vue__ = __webpack_require__(618);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_61ae6248_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_batchList_vue__ = __webpack_require__(748);\nvar normalizeComponent = __webpack_require__(39)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_batchList_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_61ae6248_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_batchList_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 618:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      interval: null,\n      search: '',\n      totalItems: 0,\n      pagination: {},\n      loading: true,\n      batches: [],\n      //\n      headers: [{\n        text: 'Name',\n        align: 'start',\n        value: 'name'\n      }, { text: 'Status', value: 'status', align: 'end' }, { text: 'Length', value: 'total_jobs', align: 'end' }, { text: 'Progress', value: 'waiting_jobs', align: 'end' }, { text: 'Actions', value: 'actions', align: 'end' }]\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.load();\n    this.interval = setInterval(function () {\n      _this.load();\n    }, 5000);\n  },\n\n  beforeDestroy: function beforeDestroy() {\n    clearInterval(this.interval);\n  },\n  methods: {\n    load: function load() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n        var data;\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this2.axios.get(_this2.$serverAddr + '/batches', {\n                  params: {\n                    'page': _this2.pagination.page,\n                    'per_page': _this2.pagination.itemsPerPage\n                  }\n                }).then(function (r) {\n                  return r.data;\n                });\n\n              case 2:\n                data = _context.sent;\n\n                _this2.batches = data.items;\n                _this2.totalItems = data.total;\n                _this2.loading = false;\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2);\n      }))();\n    },\n    runBatch: function runBatch(id) {\n      var _this3 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this3.loading = true;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return _this3.axios.post(_this3.$serverAddr + '/batches/' + id + '/run');\n\n              case 4:\n                _this3.load();\n                _context2.next = 10;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2['catch'](1);\n\n                console.error(_context2.t0);\n\n              case 10:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this3, [[1, 7]]);\n      }))();\n    },\n    interruptBatch: function interruptBatch(id) {\n      var _this4 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee3() {\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this4.loading = true;\n                _context3.prev = 1;\n                _context3.next = 4;\n                return _this4.axios.post(_this4.$serverAddr + '/batches/' + id + '/interrupt');\n\n              case 4:\n                _this4.load();\n                _context3.next = 10;\n                break;\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3['catch'](1);\n\n                console.error(_context3.t0);\n\n              case 10:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this4, [[1, 7]]);\n      }))();\n    },\n    deleteBatchConfirm: function deleteBatchConfirm(id) {\n      var _this5 = this;\n\n      this.$root.$confirm('Unlink Batch', 'This will unlink jobs from this batch and remove the batch. Jobs will not be discarded. If a job is currently running, it will finish normally. Are you sure?').then(function () {\n        var _ref = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee4(confirm) {\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _this5.loading = true;\n                  _context4.prev = 1;\n                  _context4.next = 4;\n                  return _this5.axios.delete(_this5.$serverAddr + '/batches/' + id);\n\n                case 4:\n                  _this5.load();\n                  _context4.next = 10;\n                  break;\n\n                case 7:\n                  _context4.prev = 7;\n                  _context4.t0 = _context4['catch'](1);\n\n                  console.error(_context4.t0);\n\n                case 10:\n                case 'end':\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, _this5, [[1, 7]]);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 748:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-data-table',{ref:\"table\",attrs:{\"loading\":_vm.loading,\"headers\":_vm.headers,\"items\":_vm.batches,\"options\":_vm.pagination,\"server-items-length\":_vm.totalItems,\"footer-props\":{itemsPerPageOptions: [25,10,50,100], itemsPerPageText:'Batches per page'},\"fixed-header\":\"\",\"disable-sort\":\"\"},on:{\"update:options\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('router-link',{staticClass:\"table-link\",attrs:{\"to\":(\"/batches/\" + (item.id))}},[_vm._v(\"\\n        \"+_vm._s(item.name)+\"\\n      \")])]}},{key:\"item.status\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({class:[((item.status.color) + \"--text\"), 'text-capitalize']},on),[_vm._v(\"\\n            \"+_vm._s(item.status.text)+\"\\n            \"),_c('v-icon',{attrs:{\"right\":\"\",\"color\":item.status.color}},[_vm._v(\"\\n              \"+_vm._s(item.status.icon)+\"\\n            \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.status.description))])])]}},{key:\"item.total_jobs\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_c('strong',[_vm._v(_vm._s(item.total_jobs))]),_vm._v(\" jobs\")])]}},{key:\"item.waiting_jobs\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-progress-circular',{attrs:{\"size\":\"18\",\"width\":3,\"rotate\":270,\"value\":100 / item.total_jobs * (item.total_jobs - item.waiting_jobs)}}),_vm._v(\" \"),_c('span',{staticClass:\"ml-2\"},[_c('strong',[_vm._v(_vm._s(item.waiting_jobs))]),_vm._v(\" in queue\")])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"actionsBtns\"},[(item.current_user_can_operate)?[(item.status.code < 10)?_c('v-btn',{attrs:{\"disabled\":item.status.code == 1,\"text\":\"\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.runBatch(item.id)}}},[_vm._v(\"\\n            Run\\n            \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"\\n              mdi-play\\n            \")])],1):(item.status.code < 20)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.interruptBatch(item.id)}}},[_vm._v(\"\\n            Interrupt\\n            \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"\\n              mdi-pause\\n            \")])],1):_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.runBatch(item.id)}}},[_vm._v(\"\\n            Resume\\n            \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"\\n              mdi-skip-next\\n            \")])],1)]:_vm._e(),_vm._v(\" \"),(item.current_user_can_edit)?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteBatchConfirm(item.id)}}},[_vm._v(\"\\n          Unlink\\n          \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"\\n            mdi-link-variant-off\\n          \")])],1):_vm._e()],2)]}}])})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/32.6ee0d116f5b69dc587d2.js","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./batchList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./batchList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61ae6248\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./batchList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/batch/batchList.vue\n// module id = 466\n// module chunks = 32","<template>\n  <div>\n    <v-data-table\n      ref=\"table\"\n      :loading=\"loading\"\n      :headers=\"headers\"\n      :items=\"batches\"\n      :options.sync=\"pagination\"\n      :server-items-length=\"totalItems\"\n      :footer-props=\"{itemsPerPageOptions: [25,10,50,100], itemsPerPageText:'Batches per page'}\"\n      fixed-header\n      disable-sort\n    >\n      <template v-slot:item.name=\"{ item }\">\n        <router-link\n          :to=\"`/batches/${item.id}`\"\n          class=\"table-link\"\n        >\n          {{ item.name }}\n        </router-link>\n      </template>\n      <template v-slot:item.status=\"{ item }\">\n        <v-tooltip top>\n          <template v-slot:activator=\"{ on }\">\n            <span\n              :class=\"[`${item.status.color}--text`, 'text-capitalize']\"\n              v-on=\"on\"\n            >\n              {{ item.status.text }}\n              <v-icon\n                right\n                :color=\"item.status.color\"\n              >\n                {{ item.status.icon }}\n              </v-icon>\n            </span>\n          </template>\n          <span>{{ item.status.description }}</span>\n        </v-tooltip>\n      </template>\n      <template v-slot:item.total_jobs=\"{ item }\">\n        <span><strong>{{ item.total_jobs }}</strong> jobs</span>\n      </template>\n      <template v-slot:item.waiting_jobs=\"{ item }\">\n        <v-progress-circular\n          size=\"18\"\n          :width=\"3\"\n          :rotate=\"270\"\n          :value=\"100 / item.total_jobs * (item.total_jobs - item.waiting_jobs)\"\n        />\n        <span class=\"ml-2\"><strong>{{ item.waiting_jobs }}</strong> in queue</span>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <div class=\"actionsBtns\">\n          <!-- opration buttons -->\n          <template v-if=\"item.current_user_can_operate\">\n            <v-btn\n              v-if=\"item.status.code < 10\"\n              :disabled=\"item.status.code == 1\"\n              text\n              color=\"success\"\n              @click=\"runBatch(item.id)\"\n            >\n              Run\n              <v-icon right>\n                mdi-play\n              </v-icon>\n            </v-btn>\n            <v-btn\n              v-else-if=\"item.status.code < 20\"\n              text\n              color=\"error\"\n              @click=\"interruptBatch(item.id)\"\n            >\n              Interrupt\n              <v-icon right>\n                mdi-pause\n              </v-icon>\n            </v-btn>\n            <v-btn\n              v-else\n              text\n              color=\"error\"\n              @click=\"runBatch(item.id)\"\n            >\n              Resume\n              <v-icon right>\n                mdi-skip-next\n              </v-icon>\n            </v-btn>\n          </template>\n          <!-- delete button -->\n          <v-btn\n            v-if=\"item.current_user_can_edit\"\n            text\n            @click=\"deleteBatchConfirm(item.id)\"\n          >\n            Unlink\n            <v-icon right>\n              mdi-link-variant-off\n            </v-icon>\n          </v-btn>\n        </div>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      interval: null,\n      search: '',\n      totalItems: 0,\n      pagination: {},\n      loading: true,\n      batches: [],\n      //\n      headers: [\n        {\n          text: 'Name',\n          align: 'start',\n          value: 'name'\n        },\n        {text: 'Status', value: 'status', align: 'end'},\n        {text: 'Length', value: 'total_jobs', align: 'end'},\n        {text: 'Progress', value: 'waiting_jobs', align: 'end'},\n        {text: 'Actions', value: 'actions', align: 'end'}\n      ]\n    }\n  },\n  mounted () {\n    this.load()\n    this.interval = setInterval(() => {\n      this.load()\n    }, 5000)\n  },\n  beforeDestroy: function () {\n    clearInterval(this.interval)\n  },\n  methods: {\n    async load () {\n      const data = await this.axios.get(`${this.$serverAddr}/batches`, {\n        params: {\n          'page': this.pagination.page,\n          'per_page': this.pagination.itemsPerPage\n        }\n      }).then(r => r.data)\n      this.batches = data.items\n      this.totalItems = data.total\n      this.loading = false\n    },\n    async runBatch (id) {\n      this.loading = true\n      try {\n        await this.axios.post(`${this.$serverAddr}/batches/${id}/run`)\n        this.load()\n      } catch (e) {\n        console.error(e)\n      }\n    },\n    async interruptBatch (id) {\n      this.loading = true\n      try {\n        await this.axios.post(`${this.$serverAddr}/batches/${id}/interrupt`)\n        this.load()\n      } catch (e) {\n        console.error(e)\n      }\n    },\n    deleteBatchConfirm (id) {\n      this.$root.$confirm('Unlink Batch', `This will unlink jobs from this batch and remove the batch. Jobs will not be discarded. If a job is currently running, it will finish normally. Are you sure?`)\n      .then(async confirm => {\n        this.loading = true\n        try {\n          await this.axios.delete(`${this.$serverAddr}/batches/${id}`)\n          this.load()\n        } catch (e) {\n          console.error(e)\n        }\n      })\n    }\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/batch/batchList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-data-table',{ref:\"table\",attrs:{\"loading\":_vm.loading,\"headers\":_vm.headers,\"items\":_vm.batches,\"options\":_vm.pagination,\"server-items-length\":_vm.totalItems,\"footer-props\":{itemsPerPageOptions: [25,10,50,100], itemsPerPageText:'Batches per page'},\"fixed-header\":\"\",\"disable-sort\":\"\"},on:{\"update:options\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('router-link',{staticClass:\"table-link\",attrs:{\"to\":(\"/batches/\" + (item.id))}},[_vm._v(\"\\n        \"+_vm._s(item.name)+\"\\n      \")])]}},{key:\"item.status\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({class:[((item.status.color) + \"--text\"), 'text-capitalize']},on),[_vm._v(\"\\n            \"+_vm._s(item.status.text)+\"\\n            \"),_c('v-icon',{attrs:{\"right\":\"\",\"color\":item.status.color}},[_vm._v(\"\\n              \"+_vm._s(item.status.icon)+\"\\n            \")])],1)]}}],null,true)},[_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.status.description))])])]}},{key:\"item.total_jobs\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_c('strong',[_vm._v(_vm._s(item.total_jobs))]),_vm._v(\" jobs\")])]}},{key:\"item.waiting_jobs\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-progress-circular',{attrs:{\"size\":\"18\",\"width\":3,\"rotate\":270,\"value\":100 / item.total_jobs * (item.total_jobs - item.waiting_jobs)}}),_vm._v(\" \"),_c('span',{staticClass:\"ml-2\"},[_c('strong',[_vm._v(_vm._s(item.waiting_jobs))]),_vm._v(\" in queue\")])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"actionsBtns\"},[(item.current_user_can_operate)?[(item.status.code < 10)?_c('v-btn',{attrs:{\"disabled\":item.status.code == 1,\"text\":\"\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.runBatch(item.id)}}},[_vm._v(\"\\n            Run\\n            \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"\\n              mdi-play\\n            \")])],1):(item.status.code < 20)?_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.interruptBatch(item.id)}}},[_vm._v(\"\\n            Interrupt\\n            \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"\\n              mdi-pause\\n            \")])],1):_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.runBatch(item.id)}}},[_vm._v(\"\\n            Resume\\n            \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"\\n              mdi-skip-next\\n            \")])],1)]:_vm._e(),_vm._v(\" \"),(item.current_user_can_edit)?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteBatchConfirm(item.id)}}},[_vm._v(\"\\n          Unlink\\n          \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"\\n            mdi-link-variant-off\\n          \")])],1):_vm._e()],2)]}}])})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61ae6248\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/batch/batchList.vue\n// module id = 748\n// module chunks = 32"],"sourceRoot":""}